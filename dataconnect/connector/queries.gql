# Queries for Flutter App (Synced with models.go)

query GetPartiesByCity($city: String!) @auth(level: PUBLIC) {
  parties(where: { city: { eq: $city } }) {
    id
    title
    description
    partyPhotos
    startTime
    maxCapacity
    currentGuestCount
    status
    vibeTags
    host {
      username
      realName
    }
  }
}

query GetUserProfile($id: String!) @auth(level: USER) {
  user(id: $id) {
    id
    username
    realName
    bio
    profilePhotos
    trustScore
    isVerified
    vibeTags
    interests
  }
}

query GetRecentMessages($chatId: String!) @auth(level: USER) {
  chatMessages(where: { chatId: { eq: $chatId } }, orderBy: [{ createdAt: DESC }], limit: 50) {
    id
    content
    type
    senderId
    mediaUrl
    createdAt
    sender {
      username
    }
  }
}
